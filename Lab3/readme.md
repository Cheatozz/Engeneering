Данная программа моделирует подземелье (class Dungeon), состоящее из уровней (class Level, подкласс Dungeon), населенное разнообразными монстрами (beasts). Также дан маг (class Mage), который в зависимости от вида монстра произносит соответствующее заклинание для успешного прохождения уровня. На каждом уровне обитает только один вид монстров. Реализация паттерна "Посетитель" состоит в том, что в зависимости от данных, содержащихся в экземпляре класса Level, экземпляр-посетитель класса Mage воспроизводит соответствующее действие без изменения класса Level. Таким образом, можно дополнить программу новыми посетителями, например, классом Warrior, логика которого может отличаться от логики класса Mage.
Паттерн "Итератор" реализован в качестве интерфейса и класса, его реализующего. В данной задаче он используется для добавления уровней и их перебора. При желании также можно сбросить состояние счётчика уровней до первого.
